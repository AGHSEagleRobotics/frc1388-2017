// RobotBuilder Version: 2.0
//
// This file was generated by RobotBuilder. It contains sections of
// code that are automatically generated and assigned by robotbuilder.
// These sections will be updated in the future when you export to
// C++ from RobotBuilder. Do not put any code or make any change in
// the blocks indicating autogenerated code or it will be lost on an
// update. Deleting the comments indicating the section will prevent
// it from being updated in the future.

#define DISTALIGN 4

#include "AutonomousCommand.h"
#include "AutonDrive.h"
#include "AutonTurn.h"
#include <math.h>
#include "Vision.h"

int autonDecision = 0;

// BEGIN AUTOGENERATED CODE, SOURCE=ROBOTBUILDER ID=CONSTRUCTOR

AutonomousCommand::AutonomousCommand() {
// END AUTOGENERATED CODE, SOURCE=ROBOTBUILDER ID=CONSTRUCTOR
	float horizDist;
	int theta;
	double hypVector;
	switch(autonDecision){
	case 0:
		Vision::toggleVisionThread();
		horizDist = Vision::getHorizontalOffset();
		theta = (int) atan(DISTALIGN / horizDist);
		hypVector = sqrt((pow(DISTALIGN, 2)) / (pow(horizDist, 2)));

		AddSequential(new AutonTurn(theta));
		AddSequential(new AutonDrive(hypVector));



		break;
	case 1:
		break;
	case 2:
		break;
	}
 }
